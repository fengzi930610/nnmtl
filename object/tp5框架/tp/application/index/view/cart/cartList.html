<link rel="stylesheet" type="text/css" href="__PUBLIC__css/commen.css" /><link rel="stylesheet" type="text/css" href="__PUBLIC__css/shop_cart.css" /><script type="text/javascript" src="__PUBLIC__js/jsAddress.js" ></script><!--头部 end--><div class="conter">	<div class="middle">		<div class="mid-contre">			<h2>当前位置：<a href="index.html">首页</a>>我的购物车</h2>			<div class="top">				<ul>					<li class="default">我的购物车</li>					<li>确认订单</li>					<li>提交订单</li>				</ul>			</div>			<div class="shop_cart">				<div class="shop-title">					<div class="left">						<ul>							<li class="on">全部商品</li>							<li>猜你喜欢</li>						</ul>						</div>					<div class="right">						<label>配送至：</label>						<select id="cmbProvince" name="cmbProvince" style="color: #000000;"></select>  						<select id="cmbCity" name="cmbCity" style="color: #000000;"></select>						<select id="cmbArea" name="cmbArea" style="color: #000000;"></select>					</div>				</div>				<div class="shop_box">					<ul>						<li>							<table>								<thead>									<tr>										<th>											<label>												<input type="checkbox" class="all" />												全选											</label>										</th>										<th>商品</th>										<th>商品属性</th>										<th>单价（元）</th>										<th>数量</th>										<th>小计（元）</th>										<th>操作</th>									</tr>								</thead>								<tbody id="tbody">									{volist name='cartList' id='list' }									<tr>										<td class="shop_img">											<label><input type="checkbox" value="{$list.Id}" class="ck" /></label>											<a href="{:url('Index/productDetail',['Id'=>$list.Id])}">												<img src="{$list.thumb|substr=###,1}" />											</a>										</td>										<td class="shop_title"><span><a href="{:url('Index/productDetail',['Id'=>$list.Id])}">{$list.name}</a></span></td>										<td class="shop_color"><span id="color">【绿色】纯棉长袖</span></td>										<td class="univalence">											<span class="price">{$list.price}</span>											<button id="Sales">特价产品</button>										</td>										<td class="shop_num">											<div class="num">												<button type="button" class="prd_subNum" id="addb" >-</button>												<input type="text" id="prd_numb" value="{$list.num}" class="prd_num">												<button type="button" class="prd_addNum" id="reduceb">+</button>									        </div>										</td>										<td class="shop_price"><span class="total">{$list.price*$list.num}</span></td>										<td class="shop_handle">											<span class="delete" id="remove">删除</span>											<span class="attention">添加关注</span>										</td>									</tr>									{/volist}								</tbody>							</table>							</li>					</ul>					<ul style="display: none;">						<li class="like"><a>猜你喜欢</a></li>					</ul>				</div>				<div class="shop-bot">					<ul>						<li>							<label>								<input type="checkbox" class="all" />								全选							</label>						</li>						<li class="delete">							<span id="allremove">删除选中商品</span>						</li>						<li class="attention">							<span>添加到关注</span>						</li>						<li class="eliminate">							<span>清除下柜商品</span>						</li>						<li>							<span class="allnum">已选择<i>0</i>件商品</span>						</li>						<li>							<span class="allprice">总价：￥<i>0</i>元</span>							<br />							<span>已节省：￥<a>0</a>元</span>						</li>						<li>							<a href="JavaScript:void(0)"><button id="nextbtn">结算</button></a>						</li>					</ul>				</div>			</div>		</div>		<!--mid-contre-->	</div>	<!--middle--></div><script type="text/javascript">  addressInit('cmbProvince', 'cmbCity', 'cmbArea');</script><script>	//加	$(".prd_addNum").click(function(){		var num = parseInt($(this).siblings(".prd_num").val());		var price = $(this).parent().parent().parent().find("span.price").html();//		alert(price)		++num;		if(num>99){			num=99;		}		$(this).siblings(".prd_num").val(num);		var total = num*price		$(this).parent().parent().parent().find('.total').text(total)		allprice()	})	//减	$(".prd_subNum").click(function(){		var num = parseInt($(this).siblings(".prd_num").val());		var price = $(this).parent().parent().parent().find("span.price").html();		--num;		if(num<1){			num=1;		}		$(this).siblings(".prd_num").val(num);		var total = parseFloat(num*price)		$(this).parent().parent().parent().find('.total').text(total)		allprice()	})	var input_val ;	$(".prd_num").focus(function(){		input_val = $(this).val();	})	$(".prd_num").change(function(){		var numA = $(this).val();		if(isNaN(numA)){			numA=input_val;		}else if(numA<1){			numA=input_val;		}		numA = Math.round(numA);		$(this).val(numA);	})		$('.ck').click(function(){		allprice()	})		function allprice(){		var num =0		var total =0		$('.ck').each(function(){			var bool =$(this).is(":checked")			if(bool){				//数量				var cnum = $(this).parent().parent().parent().find('.prd_num').val()				num = parseFloat(num)+parseFloat(cnum)								//价格				var mintotal = $(this).parent().parent().parent().find('.total').text()//				alert(mintotal)				total= parseFloat(total)+parseFloat(mintotal)			}		})//		alert(num)//		alert(total)		$('.allnum i').text(num)		$('.allprice i').text(total)	}	//下一步  ，检测数据，更改购物车选中数据	$('#nextbtn').click(function(){//		alert(123456)		var data = []		$('.ck:checked').each(function(){			var every =[]			every.push($(this).val())			every.push($(this).parent().parent().parent().find('.prd_num').val())			data.push(every)					})//		alert(msg)		if(data == ''){			alert('至少选择一个商品')			return false		}else{			$.post("{:url('index/Cart/check')}",{data:data},function(re){//				alert(re[0].info)				if(re[0].info){					location="{:url('orders')}"				}							},'JSON')		}			})			//全选		$('.all').click(function(){		var bool = $(this).is(':checked')		$('.ck').prop('checked',bool)		allprice()	})</script>